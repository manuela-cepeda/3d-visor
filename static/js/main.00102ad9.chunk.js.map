{"version":3,"sources":["context/ViewerContext.js","utils/IFCJSfunctions.js","assets/img/perfil.png","assets/img/3d-default.png","assets/img/3d-icon.png","../node_modules/web-ifc sync","assets/img sync /^/.*/.png$","assets/img/2x3_Coordination-View-RAC_basic_sample_project.png","assets/img/ifc.png","components/common/UserDropdown.js","components/common/Navbar.js","components/views/proyectpage/workspace/Viewer/ViewerContextMenu.js","components/views/proyectpage/workspace/Viewer/CommentContextMenu.js","components/views/proyectpage/workspace/Viewer/Viewer.js","components/views/proyectpage/workspace/BottomPanel/ViewerDownloadDropdown.js","components/views/proyectpage/workspace/BottomPanel/ListProperties.js","components/views/proyectpage/workspace/BottomPanel/BottomPanel.js","components/views/proyectpage/workspace/LeftPanel/LeftPanel.js","components/views/proyectpage/workspace/RightPanel/ViewerCommentDropdown.js","components/views/proyectpage/workspace/RightPanel/Comments.js","components/views/proyectpage/workspace/RightPanel/ItemProperties.js","components/views/proyectpage/workspace/RightPanel/RightPanel.js","components/views/proyectpage/Workspace.js","components/layouts/ProjectPage.js","components/views/homepage/projects/CardProjects.js","components/views/homepage/projects/FormNewProject.js","utils/fetchs.js","components/views/homepage/Projects.js","components/layouts/Homepage.js","App.js","index.js"],"names":["ViewerContext","createContext","ViewerContextProvider","children","useState","viewer","setViewer","modelID","setModelID","allIDs","setAllIDs","tree","setTree","selectedID","setSelectedID","categorySelected","setCategorySelected","typeProps","setTypeProps","categoryList","setCategoryList","table","setTable","showComment","setShowComment","comments","setComments","nameSelected","setnameSelected","selectFromList","e","a","ids","expressID","target","id","parseInt","parentNode","push","IFC","pickIfcItemsByID","loader","ifcManager","getTypeProperties","getIfcType","ifcType","idsIsolate","isolate","length","createSubset","removePrevious","applyBVH","customID","unpickIfcItems","idsHide","hide","action","indexOf","removeFromSubset","i","idShow","showAllItems","splice","idsCategory","categories","IFCBUILDINGELEMENTPROXY","IFCCOVERING","IFCFLOWTERMINAL","IFCCURTAINWALL","IFCRAILING","IFCSTAIR","IFCSTAIRFLIGHT","IFCWALL","IFCWALLSTANDARDCASE","IFCROOF","IFCSLAB","IFCFURNISHINGELEMENT","IFCDOOR","IFCWINDOW","IFCPLATE","IFCMEMBER","IFCCOLUMN","isolateCategory","category","getAllItemsOfType","idsHideCategory","hideCategory","forEach","selectAllByCategory","idsIsolateChilds","CommentOnElement","getProperties","props","Name","value","tablemap","addToTable","handleChange","addCategoryToTable","Provider","unselectAll","selectAllChilds","childsID","isolateChilds","console","log","ShowAllMenu","lightbulbs","document","getElementsByClassName","Array","from","lightbulb","classList","remove","add","addNewComment","newComment","deleteComment","index","slice","addNewResponse","response","responses","answers","commentWithResponse","deleteFromTable","tableFilter","filter","item","categoryFilter","grid","setUpMultiThreading","setWasmPath","useWebWorkers","loadIfc","ifcFileRuta","overlay","getElementById","progressText","innerText","setOnProgress","event","percentage","Math","floor","loaded","total","loadIfcUrl","ifcModel","style","display","getSpacialStructure","getSpatialStructure","spatialStructure","getAllIds","Set","geometry","attributes","array","getWholeSubset","scene","parent","replaceOriginalModelBySubset","subset","items","context","pickableIfcModels","model","ifcModels","removeFromParent","setupEvents","container","window","onmousemove","selector","prePickIfcItem","onkeydown","code","removeClippingPlane","dimensions","delete","ifcCamera","cameraControls","mouseButtons","left","ACTION","ROTATE","cursor","handleSelect","clipper","active","createPlane","pickIfcItem","result","getPropertySets","handleMove","TRUCK","handleRotate","handleZoom","DOLLY","handleOrto","getIfcCamera","toggleProjection","handleClipping","toggleClippingPlanes","handleGrid","undefined","GridHelper","handleFullscreen","fullscreenElement","exitFullscreen","requestFullscreen","webpackEmptyContext","req","Error","keys","resolve","module","exports","map","webpackContext","webpackContextResolve","__webpack_require__","o","Object","UserDropdown","React","history","useHistory","useCallback","className","alt","src","require","default","Navbar","frag","location","hash","substr","split","to","href","type","placeholder","ViewerContextMenu","useContext","onClick","CommentContextMenu","setNewComment","onChange","preventDefault","element","autor","comment","Viewer","useEffect","IfcViewerAPI","backgroundColor","Color","preselection","material","MeshLambertMaterial","transparent","opacity","color","depthTest","selection","addAxes","applyWebIfcConfig","COORDINATE_TO_ORIGIN","USE_FAST_BOOLS","containerRef","current","dispose","useRef","x","y","anchorPoint","setAnchorPoint","showMenu","setShowMenu","handleNewFile","ifcAPI","GetAllLines","data","onContextMenu","clientX","clientY","position","top","onDoubleClick","height","width","role","title","ViewerDownloadDropdown","xlsx","csv","txt","dropdownPopoverShow","setDropdownPopoverShow","btnDropdownRef","createRef","popoverDropdownRef","closeDropdownPopover","ref","createPopper","placement","ListProperties","filterByCategory","decodeSymbols","ifcString","ifcUnicodeRegEx","resultString","match","exec","unicodeChar","concat","String","fromCodePoint","join","replace","decodeText","fromCharCode","listByElement","elementName","details","HasPropertySets","pset","HasProperties","prop","name","NominalValue","entries","key","val","listByProperty","fila","repeated","find","newValue","hasKey","some","propValue","toFixed","BottomPanel","openTab","setOpenTab","tableRef","exportDataXLSXRef","exportDataTXTRef","exportDataCSVRef","propTable","tableId","tableExport","TableExport","headers","footers","formats","filename","bootstrap","exportButtons","ignoreRows","ignoreCols","trimWhitespace","RTL","sheetname","XLSX","CONSTANTS","FORMAT","TXT","CSV","exportDataXLSX","getExportData","exportDataTXT","exportDataCSV","export2file","mimeType","fileExtension","TreeView","lazy","TreeElements","LeftPanel","openTabL","setOpenTabL","fallback","ViewerCommentDropdown","handleResolve","Comments","newResponse","setNewResponse","valInput","setValInput","handleInputChange","handleSubmit","ItemProperties","set","constructor","setProps","colSpan","property","filtroProps","propName","RigthPanel","openTabR","setOpenTabR","Workspace","useParams","direction","sizes","minSize","RightPanel","ProjectPage","CardProjects","description","FormNewProject","showForm","setShowForm","proyName","formValues","setFormValues","baseUrl","process","REACT_APP_API_URL","fetch","method","body","JSON","stringify","json","idProyCreado","CptId","Projects","proyects","proyect","CptNombre","CtpDescripcion","HomePage","path","exact","component","App","Homepage","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.00102ad9.chunk.js","sourcesContent":["import { showAllItems } from 'utils/IFCJSfunctions';\r\n\r\nimport {createContext, useState} from 'react'\r\nimport {\r\n  IFCSTAIR,\r\n  IFCSTAIRFLIGHT, \r\n  IFCBUILDINGELEMENTPROXY,\r\n  IFCWALL,\r\n  IFCCOVERING, \r\n  IFCFLOWTERMINAL,\r\n  IFCCURTAINWALL, \r\n  IFCROOF,\r\n  IFCRAILING,\r\n  IFCWALLSTANDARDCASE,\r\n  IFCSLAB,\r\n  IFCDOOR,\r\n  IFCWINDOW,\r\n  IFCFURNISHINGELEMENT,\r\n  IFCMEMBER,\r\n  IFCPLATE,\r\n  IFCCOLUMN \r\n} from 'web-ifc'; \r\n\r\nexport const ViewerContext =createContext();\r\n\r\nconst ViewerContextProvider = ({children}) => { \r\n\r\n  const [viewer, setViewer] = useState() //API\r\n  const [modelID, setModelID] = useState('')  //id\r\n  const [allIDs, setAllIDs] = useState([])   \r\n  const [tree, setTree] = useState('');\r\n  const [selectedID, setSelectedID] = useState() //expressID\r\n  const [categorySelected, setCategorySelected] = useState('')\r\n  const [typeProps, setTypeProps] = useState([]);\r\n  const [categoryList, setCategoryList] = useState([])\r\n  const [table, setTable] = useState([]) \r\n  const [showComment, setShowComment] = useState(false)\r\n  const [comments, setComments] = useState([])\r\n  const [nameSelected, setnameSelected] = useState('')\r\n\r\n  //SELECT FROM LIST IN LEFT PANEL \r\n  const selectFromList = async (e) => {\r\n    let ids = []\r\n    let expressID;\r\n    expressID = e.target.id ? parseInt(e.target.id):\r\n                e.target.parentNode.id ? parseInt(e.target.parentNode.id) :\r\n                e.target.parentNode.parentNode.id? parseInt(e.target.parentNode.parentNode.id) :\r\n                parseInt(e.target.parentNode.parentNode.parentNode.id)\r\n    ids.push(expressID)\r\n    viewer.IFC.pickIfcItemsByID(modelID, ids);    \r\n    setSelectedID(expressID)\r\n    const typeProps = await viewer.IFC.loader.ifcManager.getTypeProperties(modelID, expressID, true);\r\n    const ifcType = await viewer.IFC.loader.ifcManager.getIfcType(modelID, expressID, true);   \r\n    setTypeProps(typeProps)\r\n    setCategorySelected(ifcType)\r\n\r\n  }\r\n\r\n  //VISIBILIDAD ELEMENTO UNICO (SE LLAMAN DESDE CONTEXT MENU O DESDE LISTA DE ELEMENTOS)\r\n  let idsIsolate = []\r\n  const isolate = async (expressID) => {     \r\n    if (idsIsolate.length === 0) {\r\n      idsIsolate.push(expressID);\r\n      viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID: 0,\r\n        ids: idsIsolate,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });\r\n    } else {\r\n      viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID: 0,\r\n        ids: allIDs,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });\r\n      idsIsolate = []\r\n    }\r\n    viewer.IFC.unpickIfcItems();\r\n  }  \r\n  let idsHide = []  \r\n  const hide = async (expressID, action) => {   \r\n    if (action.indexOf('hide') !== -1) {\r\n      idsHide.push(expressID);     \r\n     viewer.IFC.loader.ifcManager.removeFromSubset(\r\n        modelID,\r\n        idsHide,\r\n        'full-model-subset',\r\n      );\r\n    } else if (action.indexOf('show') !== -1) {\r\n      const i = idsHide.indexOf(expressID);\r\n      let idShow = []\r\n      idShow.push(idsHide[i])\r\n      showAllItems(viewer, idShow)\r\n      if (i !== -1) { idsHide.splice(i, 1) }\r\n    }\r\n   viewer.IFC.unpickIfcItems();\r\n  }\r\n\r\n  //VISIBILIDAD X CATEGORIA (SE LLAMAN DESDE LISTA DE CATEGORIAS)\r\n  let idsCategory = []\r\n  const categories = {\r\n    IFCBUILDINGELEMENTPROXY,\r\n    IFCCOVERING, \r\n    IFCFLOWTERMINAL,\r\n    IFCCURTAINWALL,\r\n    IFCRAILING, \r\n    IFCSTAIR,\r\n    IFCSTAIRFLIGHT,\r\n    IFCWALL,\r\n    IFCWALLSTANDARDCASE,\r\n    IFCROOF,\r\n    IFCSLAB,\r\n    IFCFURNISHINGELEMENT,\r\n    IFCDOOR,\r\n    IFCWINDOW,\r\n    IFCPLATE,\r\n    IFCMEMBER,\r\n    IFCCOLUMN \r\n   };\r\n  const isolateCategory = async (category) => {  \r\n    const ids = await viewer.IFC.loader.ifcManager.getAllItemsOfType(modelID, categories[category], false);\r\n    if (idsCategory.length === 0 ) {     \r\n      idsCategory.push(ids)\r\n     viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID,\r\n        ids,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });\r\n    } else {\r\n      idsCategory = [];\r\n     viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID,\r\n        ids: allIDs,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });    \r\n    }\r\n  }  \r\n  let idsHideCategory = []  \r\n  const hideCategory = async (category, action) => {\r\n    // const modelID = modelIDRef.current;\r\n    const ids = await viewer.IFC.loader.ifcManager.getAllItemsOfType(modelID, categories[category], false);\r\n  \r\n    if (action.indexOf('hide') !== -1) {\r\n      idsHideCategory.push(...ids);  \r\n      viewer.IFC.loader.ifcManager.removeFromSubset(\r\n        modelID,\r\n        idsHideCategory,\r\n        'full-model-subset',\r\n      );\r\n    } else if (action.indexOf('show') !== -1) {\r\n      ids.forEach(id => {\r\n        \r\n        const i = idsHideCategory.indexOf(id);\r\n        let idShow = []\r\n        idShow.push(idsHideCategory[i])\r\n        showAllItems(viewer, idShow)\r\n        if (i !== -1) { idsHideCategory.splice(i, 1) }\r\n      });\r\n    }\r\n\r\n  }\r\n  const selectAllByCategory = async (category) => {\r\n    const ids = await viewer.IFC.loader.ifcManager.getAllItemsOfType(modelID, categories[category], false);\r\n    viewer.IFC.pickIfcItemsByID(modelID, ids)\r\n  }\r\n\r\n\r\n  //visibilidad por childs id\r\n  const selectAllChilds = (childsID) => { \r\n\r\n  viewer.IFC.pickIfcItemsByID(modelID, childsID)\r\n  }\r\n\r\n  let idsIsolateChilds = []\r\n  const isolateChilds = (childsID) => { \r\n    \r\n    if (idsIsolateChilds.length === 0 ) {     \r\n      idsIsolateChilds.push(childsID)\r\n      console.log(idsIsolateChilds)\r\n     viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID,\r\n        ids: childsID,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });\r\n    } else {\r\n      idsIsolateChilds = [];\r\n     viewer.IFC.loader.ifcManager.createSubset({\r\n        modelID,\r\n        ids: allIDs,\r\n        removePrevious: true,\r\n        applyBVH: true,\r\n        customID: 'full-model-subset',\r\n      });    \r\n    }\r\n  }\r\n\r\n  const unselectAll = () => { \r\n  viewer.IFC.unpickIfcItems();\r\n  }\r\n\r\n\r\n  //MOSTRAR TODO  (CONTEXT MENU )\r\n  const ShowAllMenu = () => { \r\n    viewer.IFC.loader.ifcManager.createSubset({\r\n      modelID,\r\n      ids: allIDs,\r\n      removePrevious: true,\r\n      applyBVH: true,\r\n      customID: 'full-model-subset',\r\n    }); \r\n    const lightbulbs = document.getElementsByClassName('far fa-lightbulb ') \r\n    Array.from(lightbulbs).forEach(lightbulb => {\r\n      lightbulb.classList.remove('far')\r\n      lightbulb.classList.add('fas')\r\n    });\r\n  }\r\n\r\n  //AGREGAR COMENTARIO (CONTEXT MENU )\r\n  const CommentOnElement = async() => { \r\n    const props = await viewer.IFC.getProperties(modelID, selectedID, true, false);\r\n    setnameSelected(props?.Name.value)  \r\n    setShowComment(true) \r\n   }\r\n\r\n   const addNewComment = (newComment) => { \r\n      setComments([...comments, newComment])\r\n    }  \r\n\r\n  const deleteComment = (index) => { \r\n     setComments( [...comments.slice(0, index), ...comments.slice(index + 1)] )     \r\n   }\r\n\r\n   const addNewResponse = (i, response) => { \r\n      // const comment = comments[i].respuestas\r\n      const responses = comments[i].answers ? comments[i].answers : []\r\n      responses.push(response)\r\n      const commentWithResponse ={...comments[i], answers : responses }      \r\n      setComments( [...comments.slice(0, i), commentWithResponse, ...comments.slice(i + 1)] )    \r\n    }\r\n    \r\n    \r\n  //ACCIONES SOBRE TABLE (BOTTOM PANEL)  \r\n  let tablemap= []\r\n  const addToTable = async ( props ) => { \r\n    props = (typeof props !== 'undefined') ? props : typeProps \r\n   \r\n    if(categorySelected !== ''){ \r\n      categoryList.indexOf(categorySelected) === -1 && setCategoryList([...categoryList, categorySelected]) \r\n    } \r\n    tablemap.push({...props[0], category: categorySelected })\r\n    handleChange()\r\n  }\r\n\r\n  const handleChange = () => {\r\n    setTable([...table,  ...tablemap ]) \r\n  }\r\n\r\n  const addCategoryToTable = async (category) => { \r\n    const ids = await viewer.IFC.loader.ifcManager.getAllItemsOfType(modelID, categories[category], false);    \r\n    if(categorySelected !== ''){            \r\n      categoryList.indexOf(categorySelected) === -1 && setCategoryList([...categoryList, categorySelected])   \r\n       ids.forEach(async (id) => {\r\n        const typeProps = await viewer.IFC.loader.ifcManager.getTypeProperties(modelID, id, true);     \r\n        addToTable( typeProps)    \r\n       })   \r\n    }    \r\n  }  \r\n\r\n  const deleteFromTable= (category) => { \r\n    \r\n    const tableFilter = table.filter(item => item.category !== category)\r\n    setTable(tableFilter)\r\n    const categoryFilter = categoryList.filter(item => item !== category)\r\n    setCategoryList(categoryFilter)\r\n\r\n   }  \r\n \r\n\r\n  return (\r\n    <ViewerContext.Provider value={{ modelID, setModelID, allIDs, setAllIDs, viewer, setViewer, tree, setTree, typeProps, setTypeProps, selectedID, setSelectedID, setCategorySelected, selectFromList, isolate, hide, isolateCategory, hideCategory, selectAllByCategory, unselectAll, selectAllChilds, isolateChilds, ShowAllMenu, nameSelected, showComment, setShowComment, comments, addNewComment, CommentOnElement, deleteComment, addNewResponse, categorySelected,  categoryList, table, addToTable, addCategoryToTable, deleteFromTable }}>\r\n\r\n    {children}\r\n    </ViewerContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ViewerContextProvider;","import cameraControls from 'camera-controls';\r\nimport { GridHelper } from 'three';\r\n\r\n/********** FUNCIONES RELACIONADAS AL USO WEB-IFC-VIEWER (obtenidas de su documentacion) **********/\r\nexport async function setUpMultiThreading(viewer) {\r\n  await viewer.IFC.setWasmPath(\"../../../\");\r\n  await viewer.IFC.loader.ifcManager.useWebWorkers(true, '../../../IFCWorker.js');\r\n}\r\n   \r\nexport async function loadIfc(ifcFileRuta, viewer) {\r\n  //PROGRESS     \r\n  const overlay = document.getElementById('loading-overlay');\r\n  const progressText = document.getElementById('loading-progress');\r\n  overlay.classList.remove('hidden');\r\n  progressText.innerText = `Loading`;\r\n\r\n  viewer.IFC.loader.ifcManager.setOnProgress((event) => {\r\n    const percentage = Math.floor((event.loaded * 100) / event.total);\r\n    progressText.innerText = `Loaded ${percentage}%`;\r\n  });\r\n  const ifcModel = await viewer.IFC.loadIfcUrl(ifcFileRuta, true);\r\n\r\n  // await viewer.shadowDropper.renderShadow(ifcModel.modelID);\r\n  overlay.style.display = \"none\"\r\n\r\n  return ifcModel;\r\n\r\n}\r\n\r\n\r\nexport async function getSpacialStructure(ifcModel, setTree)  {\r\n    const modelID = await ifcModel.modelID;    \r\n    const spatialStructure = await ifcModel.ifcManager.getSpatialStructure(modelID, true)\r\n    setTree(spatialStructure)\r\n  }\r\n\r\nexport function getAllIds(ifcModel, setAllIDs) {\r\n  const allIDs = Array.from(\r\n\t\tnew Set(ifcModel.geometry.attributes.expressID.array),\r\n\t);\r\n  setAllIDs(allIDs) \r\n  return allIDs \r\n}\r\n\r\nexport function getWholeSubset(viewer, ifcModel, allIDs) {\r\n\treturn viewer.IFC.loader.ifcManager.createSubset({\r\n\t\tmodelID: ifcModel.modelID,\r\n\t\tids: allIDs,\r\n\t\tapplyBVH: true,\r\n\t\tscene: ifcModel.parent,\r\n\t\tremovePrevious: true,\r\n\t\tcustomID: 'full-model-subset',\r\n\t});\r\n}\r\n\r\nexport function replaceOriginalModelBySubset(viewer, ifcModel, subset) {\r\n\tconst items = viewer.context.items;\r\n\r\n\titems.pickableIfcModels = items.pickableIfcModels.filter(model => model !== ifcModel);\r\n\titems.ifcModels = items.ifcModels.filter(model => model !== ifcModel);\r\n\tifcModel.removeFromParent();\r\n\r\n\titems.ifcModels.push(subset);\r\n\titems.pickableIfcModels.push(subset);\r\n}\r\n\r\nexport function setupEvents(viewer, container, allIDs, setSelectedID) {\r\n    window.onmousemove = async () => await viewer.IFC.selector.prePickIfcItem();\r\n    //  window.oncontextmenu = () =>showAllItems(viewer, allIDs);\r\n      window.onkeydown = (event) => {\r\n             // if (event.code === 'KeyE') { //???\r\n            //   dimensionsActive = !dimensionsActive;\r\n            //   viewerRef.current.dimensions.active = dimensionsActive;\r\n            //   viewerRef.current.dimensions.previewActive = dimensionsActive;\r\n            //   // viewerRef.current.IFC.unPrepickIfcItems();\r\n            //   // window.onmousemove = dimensionsActive ? null :  viewerRef.current.IFC.prePickIfcItem;\r\n            // }     \r\n          if (event.code === 'Delete') {\r\n           viewer.removeClippingPlane();\r\n           viewer.dimensions.delete()\r\n          }\r\n          if (event.code === 'Escape') {\r\n            // showAllItems(viewer, allIDs);\r\n           viewer.context.ifcCamera.cameraControls.mouseButtons.left = cameraControls.ACTION.ROTATE;\r\n             container.style.cursor = 'auto';\r\n           viewer.IFC.unpickIfcItems();\r\n           viewer.removeClippingPlane();\r\n           setSelectedID('')\r\n            // viewerRef.current.IFC.pickIfcItem(false)\r\n      \r\n          }\r\n      };\r\n  }\r\n\r\n//   function hideClickedItem(viewer) {\r\n// \tconst result = viewer.context.castRayIfc();\r\n// \tif (!result) return;\r\n// \tconst manager = viewer.IFC.loader.ifcManager;\r\n// \tconst id = manager.getExpressId(result.object.geometry, result.faceIndex);\r\n// \tviewer.IFC.loader.ifcManager.removeFromSubset(\r\n// \t\t0,\r\n// \t\t[id],\r\n// \t\t'full-model-subset',\r\n// \t);\r\n// }\r\n\r\nexport function showAllItems(viewer, ids) {\r\n\tviewer.IFC.loader.ifcManager.createSubset({\r\n\t\tmodelID: 0,\r\n\t\tids,\r\n\t\tremovePrevious: false,\r\n\t\tapplyBVH: true,\r\n\t\tcustomID: 'full-model-subset',\r\n\t});\r\n}\r\n\r\n\r\n//CONTROLES \r\nexport async function handleSelect (viewer, setSelectedID, setTypeProps, setCategorySelected)  {\r\n    if (viewer.clipper.active) {\r\n      viewer.clipper.createPlane();\r\n    } else {\r\n      const result = await viewer.IFC.selector.pickIfcItem(true)\r\n      if (!result) return;\r\n      const {\r\n        modelID,\r\n        id\r\n      } = result;\r\n      const props = await viewer.IFC.getProperties(modelID, id, true, false);\r\n      const typeProps = await viewer.IFC.loader.ifcManager.getTypeProperties(modelID, parseInt(id), true); \r\n      const itemProps = await viewer.IFC.loader.ifcManager.getPropertySets(modelID, parseInt(id), true);\r\n      const ifcType = await viewer.IFC.loader.ifcManager.getIfcType(modelID, parseInt(id), true);  \r\n      setCategorySelected(ifcType)\r\n      setSelectedID(parseInt(id))\r\n      setTypeProps(typeProps)\r\n    }\r\n  }\r\n\r\nexport function  handleMove (viewer, container ) {\r\n  viewer.context.ifcCamera.cameraControls.mouseButtons.left = cameraControls.ACTION.TRUCK;\r\n  container.style.cursor = 'move';\r\n}\r\n\r\nexport function handleRotate(viewer, container ) {\r\n  viewer.context.ifcCamera.cameraControls.mouseButtons.left = cameraControls.ACTION.ROTATE;\r\n  container.style.cursor = 'grab';\r\n}\r\n\r\nexport function handleZoom(viewer, container ) {\r\n  viewer.context.ifcCamera.cameraControls.mouseButtons.left = cameraControls.ACTION.DOLLY;\r\n container.style.cursor = 'zoom-in';\r\n}\r\n\r\nexport function handleOrto (viewer ) {\r\n  viewer.context.getIfcCamera().toggleProjection();\r\n}\r\n\r\nexport function handleClipping (viewer ) {\r\n  viewer.toggleClippingPlanes();\r\n}\r\n\r\nlet grid;\r\nexport function handleGrid (viewer ) {\r\n  if (!grid) {\r\n    grid = new GridHelper(50, 30);\r\n\r\n    viewer.context.scene.add(grid);\r\n  } else if (grid) {\r\n    viewer.context.scene.remove(grid);\r\n    grid = undefined;\r\n\r\n  }\r\n\r\n}\r\n\r\nexport function handleFullscreen ( container ) {\r\n  if (!document.fullscreenElement) {\r\n   container.requestFullscreen();\r\n  } else {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    }\r\n  }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/perfil.4ef82ef4.png\";","export default __webpack_public_path__ + \"static/media/3d-default.7e184d41.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAG9QTFRFAAAAysTBwry40MvIwry40czJysXCy8bCzcjFzsnGzMfDx8K+ysXB08/Mw766xsC8z8rHxL+7xL66087Lxb+7yMK/zMfEw725xcC8zsrGwr25yMO/xsC90s3Kx8G+xsG9ycTA0s7Lxb+8ycPAx8G90LAy4gAAACV0Uk5TAD5sGf8VODgoJDJNPgZhVx9cYQtcSC5mVyRmSFEQTVFCC1dCUZ1BdH0AAAShSURBVHic7Z1pW9swDIDBhPtoYR33tcH//41LWgalcSRL1uHy6P20D43jd4oTWz7Y2QmCIAiCIAiCIAiCIAiCIAis2E1Ldr3rUcVeb9B90P9z37s+TA4+JT5lDr3rxOBopLFUOfauF5WsxlLFu2YkTiY9tisogMY2BeUU8ehNzrzrWMA5qrEdQbko0RhMZt41BTksCseHyp53bachaLT8fJ0RPXqTuXedc5A1Bi68az3ikuXRB+XUu+bf2GNqLFW8K7/GFV+jpaDk+7nbF5Rqja6JzyPlEwiq/PL1ENIYWHhqCHr0QfntpHEtqrFUcfG4kdboXN7E9e/cCRVjDyWNweTSUONWz2NQOTLSuFPVGLg38SgdzNZgkJ2o6eeSVJQ9jDQGkwdFjXFaWlVFzcNUYzDR6X5dWXt0SnliBw+lx0urVwJoaKWLFrYaj0oaPU+GQVH+ksiOpQAN/QGjiYlJb/5ZXcVsVl7ZxHBwdayoks7tPHZqs6SAhvmoXedN7JJHeZHXOPDwKJ3AJXj4aAzgU+oEDd8VN2ImBvn4BIZcJnEKv3PhGpSLIFPi9SbpFiq/Hz5IiSDtsDYocDXR25NEunSN/oSrAbaO14SrkkSQwvijRzwc0iJI7+GRpZJOoDIXn7cWFSn836MAZt73S29MF0GC8kBdVAO+DNcTBOIikkGB37l3hLuyRJCJmPIcN1y3e8qPeSJYp6is0cOTOaMunI6IwPN1BV0/p96QL9KlF+gCrNGnP9DVudliNZGaoKS/0JX5bICiCBKUN+aS8onJe00R7AmZ0H+DrplcoaMrwuh+gRcA6QxtEeRLP9u4Ep4lgBJM6iKURp/Ady6c8jMQQYLy9WljNXJLETQoq5HRO/QbdIhpI4KlOee3M3gKDe8KGIlgb2KYkpXoZiIVtzLcblLWM+dNzhTO5FmKcO5WvNbWVgTpflUUbC1CuyFlu4m5CGFtOClRYS9Sug6GuCrSQ6TkruRpOx+RLj3BBc6oBXqJwDfmLMNzEwFyurwUsZvI1IaQd2ZhjiJdl1lu9cgsylekG41B6K28DZHR7ZVmg9RFNncb8QvyFklKBYVIiIRIiIRIiIRIiIRIiIRIiGyZCHukLScitIVBaqjtPGT/QSJH3iJILrkcbg2EROS2Y8x9RcQCwq6CjMiNnAc7ka1QSCW8XUgSIuL7lVizJOJFOJnUi6jsH3ulTyZWiqgdj1I5Geszl5sFOpBYWkT5CKGaBQsOix0AKJuQ+CImR8+Wz2hyRVSP21mj+OvIFDHcs1s4Xc4SgVedi8NZimi4fJFASaOni9QsV2WDn29IFgG3luiBrq0kiriEo6hqNBFwO582cEuhiHgfLwtvpyr+aQunMO9P169YxPydm2dyD2WhSEN/KGaiimUijYRjRX67XolIc3+CKFdLXATeQu1DZhksKtLUU/XFaDMIImLcz6WQKCINPlVffG/0kIj7lxwjFYm02Mg3Wet+TYo02sg3WSAi8Kk3LfG/+5UX2ZJwrFh1v3IizX3JMVJWBN6z2ybPo2OxpM7JMmfzoDLTQ/pF8fo7HEEQBEEQBEEQBEEQBEGwLfwD4BrA9/n6bwQAAAAASUVORK5CYII=\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;","var map = {\n\t\"./2x3_Coordination-View-RAC_basic_sample_project.png\": 84,\n\t\"./3d-default.png\": 38,\n\t\"./3d-icon.png\": 44,\n\t\"./ifc.png\": 85,\n\t\"./perfil.png\": 29\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 83;","export default __webpack_public_path__ + \"static/media/2x3_Coordination-View-RAC_basic_sample_project.6386ea4b.png\";","export default __webpack_public_path__ + \"static/media/ifc.2abbe8f1.png\";","import React, {useCallback}  from \"react\";\nimport { createPopper } from \"@popperjs/core\";\nimport {useHistory} from 'react-router-dom';\n\nconst UserDropdown = () => {\n  // dropdown props\n  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);\n  const btnDropdownRef = React.createRef();\n  const popoverDropdownRef = React.createRef();\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"bottom-start\",\n    });\n    setDropdownPopoverShow(true);\n  };\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n  const history = useHistory();\n  const handleOnClick = useCallback(() => history.push('/myprojects/settings'), [history]);\n\n  return (\n    <>\n      <a\n        className=\"text-blueGray-500 block\"\n  \n      >\n        <div className=\"items-center flex\">\n          <span className=\"w-8 h-8 text-sm text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\n            <img\n              alt=\"...\"\n              className=\"w-full rounded-full align-middle border-none shadow-lg\"\n              src={require(\"assets/img/perfil.png\").default}\n            />\n          </span>\n        </div>\n      </a>\n  \n    </>\n  );\n};\n\nexport default UserDropdown;\n","import React from \"react\";\nimport UserDropdown from \"components/common/UserDropdown.js\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\n\n\nexport default function Navbar() {\n  // const {pathname} = useLocation();\n  const frag = window.location.hash.substr(1).split('#');\n  const [model, name] = frag\n\n  return (\n    <>\n      {/* Navbar */}\n      <nav className=\"absolute top-0 left-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center py-2 px-4\">\n        <div className=\"w-full mx-auto items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4\">\n          {/* Brand */}\n            <Link to=\"/homepage\" >\n                <img alt=\"...\"\n                  className=\" align-middle h-10 w-auto\"\n                  src={require(\"assets/img/3d-icon.png\").default} />\n            </Link>\n       \n             \n        \n\n          {/* Form */}\n          <form className=\"md:flex hidden flex-row flex-wrap items-center lg:ml-auto mr-3\">\n            <div className=\"relative flex w-full flex-wrap items-stretch\">\n            {window.location.href.indexOf(`/homepage`) !== -1 && (\n              <>\n              <span className=\"z-10 h-full leading-snug font-normal absolute text-center text-blueGray-600 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3\">\n                <i className=\"fas fa-search\"></i>\n              </span>\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                className=\"border-0 px-3 py-3 placeholder-blueGray-600 text-blueGray-600 relative bg-white bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10\"\n              />\n              </>)} \n            </div>\n          </form>\n          {/* User */}\n          <ul className=\" flex-col md:flex-row list-none items-center hidden md:flex\">       \n           \n          <div className=\" px-5 py-3 \"> <i className=\"fa fa-bell\" ></i> </div>\n         {/*  <div className=\" px-3 py-3 \"> <i className=\"fas fa-sign-out-alt\"></i> </div> */}\n            <UserDropdown />\n          </ul>\n        </div>\n      </nav>\n      {/* End Navbar */}\n    </>\n  );\n}\n","\r\nimport { ViewerContext } from \"context/ViewerContext\";\r\nimport { useContext } from \"react\";\r\n\r\n\r\nconst ViewerContextMenu = (  ) => {\r\n\r\n  const {addToTable, isolate, selectedID, viewer , hide, ShowAllMenu, CommentOnElement, unselectAll}=useContext(ViewerContext); \r\n\r\n\r\n  return (\r\n    <>   \r\n    <ul>\r\n      {/* {selectedID  &&  */}\r\n       <>\r\n      <li\r\n          className={ \r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={()=>{hide(selectedID, 'hide')}}\r\n        >\r\n         Hide selected\r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={()=>{isolate(selectedID)}}\r\n        >\r\n         Isolate selected\r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={()=>{viewer.IFC.unpickIfcItems();}}\r\n        >\r\n         Unselect element\r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={() => {CommentOnElement()}}\r\n        >\r\n         Add Comment \r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          // onClick={handleShowAll}\r\n        >\r\n         Add to Phases\r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n           onClick={ () => addToTable()}\r\n        >\r\n         Add to List\r\n      </li>\r\n      </>\r\n      {/* } */}\r\n       <div className=\"h-0  border border-solid border-blueGray-100\" /> \r\n        <>\r\n           <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4 text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={() => { ShowAllMenu() }}\r\n        >\r\n         Show All Items\r\n      </li>\r\n      <li\r\n          className={\r\n            \"hover:bg-gray-200 px-4  text-xs py-2 font-normal block cursor-pointer w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n          }\r\n          onClick={() => {unselectAll(); }}\r\n        >\r\n         Unselect all\r\n      </li>\r\n        </>\r\n      \r\n    \r\n      \r\n    </ul>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default ViewerContextMenu","import { useContext, useState } from \"react\";\r\nimport { ViewerContext } from \"context/ViewerContext\";;\r\n\r\n\r\nconst CommentContextMenu = ( ) => {\r\n\r\n  const {nameSelected, setShowComment, addNewComment } =useContext(ViewerContext); \r\n  const [newComment, setNewComment] = useState('')\r\n\r\n  const handleInputChange =(e) => { \r\n    setNewComment(e.target.value)\r\n    \r\n   }\r\n  const handleSubmit = (e) => { \r\n    e.preventDefault()  \r\n    addNewComment({\r\n      element: nameSelected,\r\n      autor: 'Manuela Cepeda', //replace with user\r\n      comment: newComment\r\n    })\r\n    setShowComment(false)\r\n   }\r\n\r\n  const handleClick = () => { setShowComment(false) }\r\n  return (\r\n      <>\r\n     < div className='px-5  text-xs py-2  shadow-lg'>\r\n      <div className=\"items-center flex gap-2 mb-5\">\r\n          <span className=\"w-8 h-8  text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\r\n            <img\r\n              alt=\"...\"\r\n              className=\"w-full rounded-full align-middle border-none shadow-lg\"\r\n              src={require(\"assets/img/perfil.png\").default}\r\n            />\r\n          </span>\r\n           <p className=' text-sm font-bold '> Manuela Cepeda </p>\r\n        </div>\r\n      <form >\r\n      <label\r\n        className=\"block text-blueGray-600 text-xs  mb-2\"\r\n        \r\n        >\r\n        New comment on: <span className='font-bold'>{nameSelected}</span> \r\n        </label>\r\n        <input\r\n        type=\"text\"\r\n        placeholder='Add a Comment '\r\n        className=\"mb-3 border-0 px-2 py-2 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\r\n        onChange={handleInputChange} \r\n        />\r\n        <div className=\"flex items-center\">\r\n        \r\n            <button\r\n            className=\"bg-orange-500 text-white active:bg-lightBlue-600 font-bold uppercase  px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n            type=\"button\"\r\n            onClick={handleSubmit}\r\n            >\r\n            Save Changes\r\n            </button>\r\n                <button\r\n            className=\"text-red-500 background-transparent font-bold uppercase px-4 py-2  outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n            type=\"button\"\r\n            onClick={handleClick}\r\n            >\r\n            Close\r\n            </button>\r\n        </div>\r\n      \r\n        \r\n\r\n      </form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CommentContextMenu\r\n","import React, {  useContext, useEffect, useRef, useState } from \"react\";\n\nimport { IfcViewerAPI } from \"web-ifc-viewer\";\nimport {  Color } from \"three\";\n\nimport './Viewer.css';\nimport { getAllIds, getSpacialStructure, getWholeSubset, replaceOriginalModelBySubset, setupEvents, handleMove, handleZoom, handleRotate, handleFullscreen, handleGrid, handleOrto, handleClipping, setUpMultiThreading, loadIfc, handleSelect } from \"utils/IFCJSfunctions\";\n\nimport ViewerContextMenu from \"./ViewerContextMenu\";\nimport CommentContextMenu from \"./CommentContextMenu\";\nimport { ViewerContext } from \"context/ViewerContext\";\nimport { MeshLambertMaterial } from \"three\";\n\n\n\nconst Viewer = ({model}) => {\n\n   /*************SET UP SCENE AND LOADING MODEL *******************/\n  //se hace dentro del useEffect para que lo haga luego de renderizar la pagina (fuera no funciona)\n  useEffect(async () => {\n  //SETUP VIEWER CONFIG\n    const container = document.getElementById(\"local-ifc-container\");\n    const viewer = new IfcViewerAPI({ container, backgroundColor: new Color(0xE6E5DD) });   \n    //configuraicion visor\n    viewer.IFC.selector.preselection.material = new MeshLambertMaterial({\n      transparent: true,\n      opacity: 0.4,\n      color: 0xF0905E,\n      depthTest: false\n    });\n    viewer.IFC.selector.selection.material = new MeshLambertMaterial({\n      transparent: true,\n      opacity: 0.8,\n      color: 0xF0905E,\n      depthTest: false\n  });\n    viewer.addAxes();\n    viewer.IFC.loader.ifcManager.applyWebIfcConfig({ COORDINATE_TO_ORIGIN: true, USE_FAST_BOOLS: true});\n    setUpMultiThreading(viewer)\n    viewer.clipper.active = false;\n\n    //LOAD IFC FILE AND SET PROGRESS\n\n    // const ifcModel = await loadIfc(`../../../${model}.ifc`, viewer) \n    const ifcModel = await loadIfc(`./${model}.ifc`, viewer) \n    \n    getSpacialStructure(ifcModel, setTree);\n    const allIDs =  getAllIds(ifcModel, setAllIDs);      \n    const subset = await getWholeSubset(viewer, ifcModel, allIDs);\n    replaceOriginalModelBySubset(viewer, ifcModel, subset);\n    setupEvents(viewer, container, allIDs, setSelectedID); \n\n    //ADD ELEMENTS AS REFERENCE/ STATE\n    containerRef.current = container;\n    setViewer(viewer)\n    setModelID(ifcModel.modelID)\n\n\n    /************Memory back to start on unmount? **************/\n    return async () => {\n      await viewer.dispose();\n      viewer = null;\n    }\n\n  }, []);\n\n  //traigo funciones y estados globales del viewerContext\n  const {setAllIDs, setTypeProps,  setTree, setModelID, setSelectedID, selectedID, setCategorySelected, modelID}= useContext(ViewerContext);\n\n  const { viewer, setViewer }= useContext(ViewerContext); \n  const {showComment, setShowComment }= useContext(ViewerContext); \n\n    const containerRef = useRef() \n\n  const [anchorPoint, setAnchorPoint] = useState({ x: 0, y: 0 });\n  const [showMenu, setShowMenu] = useState(false);\n  \n\n//no va\n  const handleNewFile = async  () => { \n    // loadIfc(`../../../room.blend.ifc`)\n    const data = await viewer.IFC.loader.ifcManager.ifcAPI.GetAllLines(modelID)\n    console.log(data )\n      }\n\n    \n\n\n   //context menu\n   const handleContextMenu = (e) => {\n    e.preventDefault()\n    setAnchorPoint({ x: e.clientX, y: e.clientY });\n    setShowMenu(true);\n    setShowComment(false)\n  }; \n  \n\n  return (\n    <>     \n      <div className=\" relative col-span-2 bg-white   shadow-lg  overflow-hidden\"\n        onContextMenu={handleContextMenu}\n        onClick={()=>setShowMenu(false)}\n        >\n      \n        {/*context menu  */}\n        <div className=\"bg-white min-w-32 min-h-32 m-2 rounded text-base z-50 float-left \"  \n        style={{               \n            position: \"fixed\",            \n            top: anchorPoint.y + 'px',\n            left: anchorPoint.x + 'px',          \n          }} \n      >\n          \n        {showMenu && <ViewerContextMenu   /> } \n        { showComment && <CommentContextMenu  />} \n        </div>\n        <div   \n          onDoubleClick={()=>handleSelect(viewer, setSelectedID, setTypeProps, setCategorySelected)}             \n          id=\"local-ifc-container\"\n          style={{\n            position: \"relative\",\n            height: \"80vh\",\n            width: \"70vw\",\n          }} >         \n          {/* botones */}\n          <div className=\"absolute m-2 inline-flex text-xs  shadow-sm  opacity-80\" role=\"group\">     \n\n            <button\n              onClick={() => handleMove(viewer, containerRef.current)}\n              type=\"button\" className=\"py-2 px-4  font-medium text-gray-900 bg-white rounded-l-lg border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"moveBtn\" data-tooltip-target=\"tooltip-default\" title=\"Move\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-arrows-alt\"></i>\n\n            </button>\n            <button\n              onClick={() => handleRotate(viewer, containerRef.current)}\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"rotateBtn\" data-tooltip-target=\"tooltip-default\" title=\"Rotate\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-sync-alt\"></i>\n            </button>\n\n            <button\n              onClick={() => handleZoom(viewer, containerRef.current) }\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"zoomBtn\" data-tooltip-target=\"tooltip-default\" title=\"Zoom\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-search\"></i>\n            </button>\n\n            <button\n              onClick={() => handleFullscreen (containerRef.current) }\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"fullscreenBtn\" data-tooltip-target=\"tooltip-default\" title=\"Fullscreen\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-expand\"></i>\n            </button>\n\n            <button\n              onClick={ () => handleGrid(viewer) }\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"gridBtn\" data-tooltip-target=\"tooltip-default\" title=\"Grid\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-border-all\"></i>\n            </button>\n\n            <button\n              onClick={() => handleOrto(viewer) }\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"ortoBtn\" data-tooltip-target=\"tooltip-default\" title=\"Ortogonal view\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-cube\"></i>\n            </button>\n\n            <button\n              onClick={ () => handleClipping(viewer) }\n              type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"clippingBtn\" data-tooltip-target=\"tooltip-default\" title=\"Clipping plane\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-vector-square\"></i>\n            </button>\n\n            <button \n            onClick={handleNewFile}\n            type=\"button\" className=\"py-2 px-4 font-medium text-gray-900 bg-white border rounded-r-lg border-gray-200 hover:bg-gray-100 hover:text-orange-700 focus:z-10 focus:ring-2 focus:ring-orange-700 focus:text-orange-700  transition  duration-150   ease-in-out\" id=\"infoBtn\" data-tooltip-target=\"tooltip-default\" title=\"Information\" data-bs-placement=\"bottom\" data-popper-arrow>\n              <i className=\"fas fa-info\"></i>\n            </button>\n            \n\n\n          </div>              \n        </div>\n\n        {/* loading  */}\n        <div id=\"loading-overlay\" className=\"loading-overlay hidden\">\n          <h1 id=\"loading-progress\" className=\"loading-progress\"></h1>\n        </div>\n\n      </div>\n      \n        \n\n    \n    </>\n  );\n};\n\nexport default Viewer;\n","import React, { useContext } from \"react\";\nimport { createPopper } from \"@popperjs/core\";\nimport { ViewerContext } from \"context/ViewerContext\";\n\nconst ViewerDownloadDropdown = ({xlsx, csv, txt}) => {\n\n\n  // dropdown props\n  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);\n  const btnDropdownRef = React.createRef();\n  const popoverDropdownRef = React.createRef();\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"left-end\",\n    });\n    setDropdownPopoverShow(true);\n  };\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n\n  return (\n    <>\n      <a  \n        className=\" px-4\"     \n        href=\"#download\"\n        ref={btnDropdownRef}\n        onClick={(e) => {\n          e.preventDefault();\n          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();\n      \n        }}\n      >\n          <i className=\"fas fa-download\"></i>\n      </a>\n      <div\n        ref={popoverDropdownRef}\n        className={\n          (dropdownPopoverShow ? \"block \" : \"hidden \") +\n          \"bg-white  z-50 text-sm  float-left py-2 list-none text-left rounded shadow-lg min-w-48\"\n        }\n      >\n        <a\n          href=\"#download\"\n          className={\n            \"hover:bg-gray-200 text-sm py-2 px-4 font-normal block w-full whitespace-nowrap  text-blueGray-700\"\n          }\n          onClick={ (e) => { \n            e.preventDefault()\n            xlsx()\n            closeDropdownPopover()\n           }}\n        >\n          Download in xslx \n        </a>\n        <a\n          href=\"\"\n          className={\n            \"hover:bg-gray-200  text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n          }\n          onClick={ (e) => { \n            e.preventDefault()\n            csv()\n            closeDropdownPopover()\n           }}\n        >\n        Download in csv \n        </a>\n        <a\n          href=\"\"\n          className={\n            \"hover:bg-gray-200  text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n          }\n          onClick={ (e) => { \n            e.preventDefault()\n            txt()\n            closeDropdownPopover()\n           }}\n        >\n       Download in txt \n        </a>\n      \n      </div>\n    </>\n  );\n};\n\nexport default ViewerDownloadDropdown;\n","\n\n const  ListProperties =  ({typeProps, category}) => {\n\n\nconst filterByCategory = typeProps.filter(item => item.category === category)\n\n  /*  FUNCIONES AUXILIARES  */\n//  Decoding special symbols\nconst decodeSymbols = (ifcString) => {\n\n  const ifcUnicodeRegEx = /\\\\X4\\\\(.*?)\\\\X0\\\\/uig;\n  let resultString = ifcString;\n  let match = ifcUnicodeRegEx.exec(ifcString);\n\n  while (match) {\n    let matchArr = match[1].split(\"000\");\n    let unicodeCharArr = matchArr.map((i) => {\n      let a = '0x';\n      a = a.concat(i);\n      if (a !== \"0x\") {\n        let unicodeChar = String.fromCodePoint(a);\n        return unicodeChar;\n      }\n    });\n    const unicodeChar = unicodeCharArr.join(\"\");\n    resultString = resultString.replace(match[0], unicodeChar);\n    match = ifcUnicodeRegEx.exec(ifcString);\n  }\n  return resultString;\n}\n\n// Decode textos\nconst decodeText = (ifcString) => {\n  const ifcUnicodeRegEx = /\\\\X2\\\\(.*?)\\\\X0\\\\/uig;\n  let resultString = ifcString;\n  let match = ifcUnicodeRegEx.exec(ifcString);\n\n  while (match) {\n    const unicodeChar = String.fromCharCode(parseInt(match[1], 16));\n    resultString = resultString.replace(match[0], unicodeChar);\n    match = ifcUnicodeRegEx.exec(ifcString);\n  }\n  return resultString;\n}\n\n/// Filtro de propiedades\nconst filtroProps = (property) => {\n  const hideProps = ['GlobalId', 'OwnerHistory', 'expressID', 'Description', 'Name', 'type'];\n  const found = hideProps.find(i => i === property);\n  if (!found) {\n    return true;\n  }\n}\n\n\nconst listByElement = filterByCategory.map(element => {\n  const  elementName = element?.Name?.value;\n  const details = element?.HasPropertySets?.map((pset) => {   \n    // const set = pset.Name?.value ? decodeText(decodeSymbols(pset.Name?.value)) : pset.constructor.name;\n    let props;\n    if (pset.HasProperties) {\n      props = pset.HasProperties?.map((prop) => {\n        const name = decodeText(decodeSymbols(prop.Name?.value));\n        const value = decodeText(decodeSymbols(prop.NominalValue?.value));\n        /* const label = decodeText(decodeSymbols(prop.NominalValue?.label)); */\n        return {          \n          name,\n          value: [value]/* ,\n          label */\n        };\n      });\n      // para fabricante technal (excepcion)\n    } else if (pset.Name === null) {\n      props = Object.entries(pset).map(([key, val]) => {\n        const name = decodeText(decodeSymbols(key));\n        const value = val?.value ? decodeText(decodeSymbols(val?.value)) : val;\n        return {\n          name,\n          value: [value]\n        };\n      });  \n    }\n    return {   \n      props\n    };  \n  });\n  return {elementName, details}  \n});\n\n\n  let listByProperty = []\n  listByElement.forEach((item,i) => {\n    let fila = i+1\n    //primero guardo nombre de cada elemento (1 columna)\n    const repeated = listByProperty.find(i => i.name === 'Element')\n    if(repeated){\n      repeated.value.push({key: fila, val:  item.elementName})\n    }else if(item.elementName !== undefined) {\n      listByProperty.push({name: 'Element', value:[{key: fila, val: item.elementName}]})  \n    }\n    \n    //guardo propiedades y valores (2da columna en adelante)\n    item.details?.forEach( item =>{\n       item?.props?.forEach(item =>  {        \n        const repeated = listByProperty.find(i => i.name === item.name)      \n        if(repeated){\n           const [newValue] =item.value\n          repeated.value.push({key: fila, val: newValue})\n        }else{\n          const [newValue] =item.value      \n          let value =  [\n            {key: fila, val: newValue}\n          ]  \n          for(let i=1; i< fila; i++){\n            value.push({key: i, val: '-'})\n          }         \n          listByProperty.push({name: item.name, value: value})          \n        }\n        \n      })\n    })    \n    //chequeo que no haya vacios en el array que cree\n    listByProperty?.forEach(item => {\n      const hasKey = item.value.some(i => i.key === fila)\n      !hasKey && item.value.push({key: fila , val: '-'})\n    \n    })\n  })\n \n\n  return (\n    <>\n    \n    {listByProperty.length>1 && \n \n     <table id=\"props-table\" className=\"table-fixed \">\n      <thead className=\"sticky z-0  top-0 bg-gray-50 \">\n      <tr>     \n      {listByProperty.map(item => {              \n            return (                \n              <th   className=\"border-t-0  align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left\">\n                {item.name}\n              </th>           \n            )            \n          })\n        }\n        </tr>\n      </thead>\n        \n      <tbody>\n      \n       {listByElement.map( (item, i) => { \n         const index = i+1; \n        return(        \n        <tr >\n          {listByProperty.map(item =>{          \n            const filter = item.value.filter(i => i.key === index)    \n           \n            return (\n              <>     \n             {filter.map( prop =>{              \n               let propValue = prop.val === 'T' ? 'True' :\n                                prop.val === 'F' ? 'False' :\n                                typeof prop.val === 'number' && prop.val % 1 != 0  ? prop.val.toFixed(2) :\n                                typeof prop.val === 'number' && prop.val === 0  ? 0 :\n                                prop.val === null || prop.val === \"\"  ? '-' :\n                                prop.val;                \n                return (                  \n                  <td className=\"border-t-0  align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n                    {propValue}\n                  </td>                  \n                )\n            })}\n            </>\n            )\n          })\n          }\n      </tr>)      \n       })\n      }\n      </tbody>\n      </table>  \n      } \n   \n    </ >\n  );\n}\n\n\nexport default ListProperties;\n","import ViewerDownloadDropdown from \"./ViewerDownloadDropdown\";\r\nimport { ViewerContext } from \"context/ViewerContext\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { TableExport  } from \"tableexport\";\r\nimport ListProperties from \"./ListProperties\";\r\n\r\nconst BottomPanel = () => {\r\n\r\n  const {table, categoryList, deleteFromTable}=useContext(ViewerContext); \r\n  const [openTab, setOpenTab] = useState(categoryList ? categoryList[0] : '')  \r\n  const tableRef = useRef()\r\n  const exportDataXLSXRef = useRef()\r\n  const exportDataTXTRef = useRef()\r\n  const exportDataCSVRef = useRef()\r\n\r\n  useEffect(() => {\r\n    const propTable = document.getElementById(\"props-table\"); \r\n    \r\n    if(propTable !== null) {\r\n    var tableId = 'props-table';\r\n    const tableExport = TableExport(propTable , {\r\n      headers: true,                              // (Boolean), display table headers (th or td elements) in the <thead>, (default: true)\r\n      footers: true,                              // (Boolean), display table footers (th or td elements) in the <tfoot>, (default: false)\r\n      formats: ['txt','xlsx', 'csv'],           // (String[]), filetype(s) for the export, (default: ['xlsx', 'csv', 'txt'])\r\n      filename: openTab,                             // (id, String), filename for the downloaded file, (default: 'id')\r\n      bootstrap: false,                           // (Boolean), style buttons using bootstrap, (default: true)\r\n      exportButtons: false,                        // (Boolean), automatically generate the built-in export buttons for each of the specified formats (default: true)\r\n      position: 'top',                         // (top, bottom), position of the caption element relative to table, (default: 'bottom')\r\n      ignoreRows: null,                           // (Number, Number[]), row indices to exclude from the exported file(s) (default: null)\r\n      ignoreCols: null,                           // (Number, Number[]), column indices to exclude from the exported file(s) (default: null)\r\n      trimWhitespace: true,                       // (Boolean), remove all leading/trailing newlines, spaces, and tabs from cell text in the exported file(s) (default: false)\r\n      RTL: false,                                 // (Boolean), set direction of the worksheet to right-to-left (default: false)\r\n      sheetname: \"id\"                             // (id, String), sheet name for the exported spreadsheet, (default: 'id')\r\n  })\r\n   \r\n    \r\n    var XLSX = tableExport.CONSTANTS.FORMAT.XLSX;\r\n    var TXT = tableExport.CONSTANTS.FORMAT.TXT;\r\n    var CSV = tableExport.CONSTANTS.FORMAT.CSV;\r\n    var exportDataXLSX = tableExport.getExportData()[tableId][XLSX];\r\n    var exportDataTXT = tableExport.getExportData()[tableId][TXT];    \r\n    var exportDataCSV = tableExport.getExportData()[tableId][CSV];    \r\n    \r\n    tableRef.current = tableExport;\r\n    exportDataXLSXRef.current = exportDataXLSX\r\n    exportDataTXTRef.current = exportDataTXT\r\n    exportDataCSVRef.current = exportDataCSV\r\n  \r\n    }\r\n  }, [openTab, table])\r\n\r\n \r\n  const handleDownloadXLSX = () => {    \r\n    tableRef.current && tableRef.current.export2file(exportDataXLSXRef.current.data, exportDataXLSXRef.current.mimeType, exportDataXLSXRef.current.filename, exportDataXLSXRef.current.fileExtension);\r\n   }\r\n   const handleDownloadCSV = () => { \r\n     tableRef.current &&  tableRef.current.export2file( exportDataCSVRef.current.data,  exportDataCSVRef.current.mimeType,  exportDataCSVRef.current.filename,  exportDataCSVRef.current.fileExtension);\r\n   }\r\n   const handleDownloadTXT = () => { \r\n     tableRef.current &&  tableRef.current.export2file(exportDataTXTRef.current.data, exportDataTXTRef.current.mimeType, exportDataTXTRef.current.filename, exportDataTXTRef.current.fileExtension);\r\n   }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"relative bg-white shadow-lg overflow-auto\" >\r\n    <div className=\"sticky left-0 top-0 bg-white z-20 flex justify-between  text-sm font-medium text-center text-gray-500 border-b border-gray-200\">\r\n      <ul className=\" cursor-pointer flex \">\r\n         { categoryList.map(item =>          \r\n        <li className=\"mr-2\">\r\n           <a className={\"inline-block p-4 rounded-t-lg border-b-2 \" + (openTab === item\r\n            ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n            : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \")}\r\n            onClick={()=>setOpenTab(item)}\r\n            >{item}</a>\r\n        </li>        \r\n        )}   \r\n      </ul>    \r\n      <div className=\"m-2\">   \r\n        <button       \r\n        type=\"button\" className=\" py-2 text-gray-900 bg-white rounded-l-lg border border-gray-200 hover:bg-gray-100 hover:text-orange-500 focus:text-orange-500  transition  duration-150   ease-in-out\" data-tooltip-target=\"tooltip-default\" data-bs-placement=\"bottom\" data-popper-arrow>\r\n       \r\n         <ViewerDownloadDropdown  xlsx={handleDownloadXLSX} txt={handleDownloadTXT} csv={handleDownloadCSV} />     \r\n      </button>\r\n      <button\r\n        onClick={()=> deleteFromTable(openTab)}\r\n        type=\"button\" className=\"py-2 px-4 text-gray-900 bg-white border border-gray-200 hover:bg-gray-100  hover:text-orange-500  focus:text-orange-500  transition  duration-150   ease-in-out\"data-tooltip-target=\"tooltip-default\"  data-bs-placement=\"bottom\" data-popper-arrow>\r\n        <i className=\"fas fa-trash-alt\"></i> \r\n      </button>\r\n      <button \r\n     \r\n      type=\"button\" className=\"py-2 px-4 text-gray-900 bg-white border rounded-r-lg border-gray-200 hover:bg-gray-100 hover:text-orange-500  focus:text-orange-500  transition  duration-150   ease-in-out\"  data-tooltip-target=\"tooltip-default\"  data-bs-placement=\"bottom\" data-popper-arrow>\r\n        <i className=\"fas fa-pen\"></i> \r\n      </button>\r\n      </div>  \r\n    </div>\r\n    <div\r\n    \r\n     className=\" p-2 overflow-contain\" >    \r\n      <ListProperties typeProps={table} category={openTab} />   \r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default BottomPanel","\r\nimport { ViewerContext } from \"context/ViewerContext\";\r\nimport React, {  Suspense, useContext } from \"react\"\r\n\r\nconst TreeView = React.lazy(() => import(\"./TreeView\"));\r\nconst TreeElements = React.lazy(() => import(\"./TreeElements\"));\r\n\r\n\r\nconst LeftPanel = ( ) => {\r\n\r\n  const [openTabL, setOpenTabL] = React.useState(1); \r\n  const { selectFromList, tree }= useContext(ViewerContext);  \r\n\r\n  return (\r\n    <div\r\n    onDoubleClick={(e) => selectFromList(e)}\r\n    className=\" relative bg-white  shadow-lg  overflow-y-auto\"    >\r\n  \r\n    <div className=\" cursor-pointer sticky top-0 bg-white text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700\">\r\n      <ul className=\"flex flex-wrap -mb-px\">\r\n        <li className=\"mr-2\">\r\n        <a\r\n        onClick={() => setOpenTabL(1)}\r\n        className={\"inline-block p-4 rounded-t-lg border-b-2 active \" + \r\n        (openTabL === 1\r\n            ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n            : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \"\r\n        ) }\r\n        aria-current=\"page\">Elements </a>\r\n        <a onClick={() => setOpenTabL(2)}\r\n        className={\"inline-block p-4 rounded-t-lg border-b-2 active \" + (openTabL === 2\r\n            ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n            : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \")\r\n        }>Levels </a>\r\n            <a onClick={() => setOpenTabL(3)}\r\n        className={\"inline-block p-4 rounded-t-lg border-b-2 active \" + (openTabL === 3\r\n            ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n            : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \")\r\n        }>Phases </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div className=\"mt-3\">\r\n\r\n    \r\n    {openTabL === 1 && (\r\n                 \r\n         <Suspense fallback={<div>Loading</div>}>\r\n         <TreeElements data={[tree]}    /> \r\n      </Suspense>\r\n    )}  \r\n     {openTabL === 2 && (\r\n          <Suspense fallback={<div>Loading</div>}>\r\n            <TreeView data={[tree]}  /> \r\n          </Suspense>\r\n     )}\r\n       {openTabL === 3 && (\r\n         <p>-</p>\r\n     )}\r\n    </div>\r\n    \r\n    \r\n  </div>\r\n  )\r\n}\r\n\r\nexport default LeftPanel;","import React, { useContext } from \"react\";\nimport { createPopper } from \"@popperjs/core\";\nimport { ViewerContext } from \"context/ViewerContext\";\n\nconst ViewerCommentDropdown = ({index }) => {\n\n  const { deleteComment }=useContext(ViewerContext);\n\n  // dropdown props\n  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);\n  const btnDropdownRef = React.createRef();\n  const popoverDropdownRef = React.createRef();\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"left-start\",\n    });\n    setDropdownPopoverShow(true);\n  };\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n\n\n\tconst handleDelete = (e) => {  \n    e.preventDefault()\n    console.log(index)  \n    deleteComment(index)\n    setDropdownPopoverShow(false);\n\t}\n    \n\tconst handleResolve =  async (e) => {  \n    e.preventDefault() \t\t \n    setDropdownPopoverShow(false);\n\t }\n  \n\n\n  return (\n    <>\n      <a\n        className=\"text-blueGray-500  hover:text-orange-500  focus:text-orange-500   px-3\"\n        href=\"#pablo\"\n        ref={btnDropdownRef}\n        onClick={(e) => {\n          e.preventDefault();\n          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();\n         \n        }}\n      >\n        <i className=\"fas fa-ellipsis-v\"></i>\n      </a>\n      <div\n        ref={popoverDropdownRef}\n        className={\n          (dropdownPopoverShow ? \"block \" : \"hidden \") +\n          \"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48\"\n        }\n      >\n        <a\n          href=\"#viewer\"\n          className={\n            \"hover:bg-gray-200 text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n          }\n          onClick={handleResolve}\n        >\n          Resolve\n        </a>\n        <a\n          href=\"#viewer\"\n          className={\n            \"hover:bg-gray-200  text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n          }\n          onClick={handleDelete}\n        >\n        Delete\n        </a>\n        <a\n          href=\"#viewer\"\n          className={\n            \"hover:bg-gray-200  text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n          }\n          \n        >\n          Edit\n        </a>\n      \n      </div>\n    </>\n  );\n};\n\nexport default ViewerCommentDropdown;\n","import ViewerCommentDropdown from \"./ViewerCommentDropdown\";\nimport { ViewerContext } from \"context/ViewerContext\";\nimport React, { useContext, useState } from \"react\";\n\n\n\n const  Comments =  () => {\n\n  const {comments, addNewResponse } =useContext(ViewerContext); \n  const [newResponse, setNewResponse] = useState('')\n  const [valInput, setValInput] =  useState('')\n    //handle opcions\n    const handleInputChange =(e) => {\n      setValInput(e.target.value) \n      setNewResponse(e.target.value)\n      \n     }\n\n    const handleSubmit = (e, i) => { \n      e.preventDefault()  \n      if(newResponse !== ''){\n      addNewResponse(i, {  \n        autor: 'Chris Bernal', //replace with user\n        response: newResponse\n      })\n      }\n      setValInput('')\n     }\n\n  return (\n    <>\n      { comments.map( (comment,i ) =>\n        <div key={i} className=\" flex flex-col min-w-0 break-words w-full \">\n          {/* <p className=\"p-4 text-sm\" >Select an element to add comments</p> */}\n\n     < div className=' m-5 px-5  text-xs py-2 rounded shadow-lg border border-blueGray-200 '>\n       <div className=\" flex justify-between items-center  my-3\"> \n        <div className=\"items-center flex gap-2\">\n          <span className=\"w-8 h-8  text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\n            <img\n              alt=\"...\"\n              className=\"w-full rounded-full align-middle border-none shadow-lg\"\n              src={require(\"assets/img/perfil.png\").default}\n            />\n          </span>\n          <div>\n             <p className=' text-base font-bold float-left'> {comment.autor} </p>\n            <p >        \n              20/04/2022 17:50 {/* cambiar */}\n            </p>\n          </div>\n           \n        </div>\n        <ViewerCommentDropdown index ={i} />\n        </div>\n       <p className=\"   mb-2\">\n        New comment on element: <span className='font-bold'>{comment.element}</span> \n        </p>\n        <p className=\"text-base font-bold   mb-2\">\n        { comment.comment}\n        </p>\n       \n       { \n        comment.answers?.map( response =>\n          <>\n          <div className=\"items-center flex gap-2 mt-4 mb-2\">\n          <span className=\"w-8 h-8  text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\n            <img\n              alt=\"...\"\n              className=\"w-full rounded-full align-middle border-none shadow-lg\"\n              src={require(\"assets/img/perfil.png\").default}\n            />\n          </span>\n          <div>\n           <p className=' text-sm font-bold '> {response.autor} </p>\n           <p>        \n            20/04/2022 17:50 {/* cambiar */}\n            </p>\n          </div>\n        </div>\n        <p className=\"text-sm  pl-11 mb-1\">\n        { response.response}\n        </p>\n       \n        </>\n        )}\n\n\n\n\n        <form className=\"mt-2 \">\n    \n          <div className=\"flex intems-center my-5 gap-3 \"> \n          <span className=\"w-8 h-8  text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\n            <img\n              alt=\"...\"\n              className=\"w-full rounded-full align-middle border-none shadow-lg\"\n              src={require(\"assets/img/perfil.png\").default}\n            />\n          </span>\n         \n        <input\n        type=\"text\"\n        value={valInput}\n        placeholder='Add a new Comment '\n        className=\" border-0  px-2 py-2 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n        onChange={handleInputChange}\n        />\n         </div>\n        <div className=\"flex items-center\">\n        \n            <button\n            className=\"bg-orange-500 text-white active:bg-lightBlue-600 font-bold uppercase  px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n            type=\"button\"\n            onClick={(e)=> handleSubmit(e, i)}\n            >\n            Save Changes\n            </button>\n         \n        </div>\n      \n        \n\n      </form>\n      </div>      \n          </div>\n    )}\n    </>\n  );\n}\n\n\nexport default Comments;\n","import { ViewerContext } from \"context/ViewerContext\";\nimport { useContext } from \"react\";\n\n\n const  ItemProperties =  () => {\n\n  const { typeProps }=useContext(ViewerContext); \n\n\n  /*  FUNCIONES AUXILIARES  */\n//  Decoding special symbols \nconst decodeSymbols = (ifcString) => {\n\n  const ifcUnicodeRegEx = /\\\\X4\\\\(.*?)\\\\X0\\\\/uig;\n  let resultString = ifcString;\n  let match = ifcUnicodeRegEx.exec(ifcString);\n\n  while (match) {\n    let matchArr = match[1].split(\"000\");\n    let unicodeCharArr = matchArr.map((i) => {\n      let a = '0x';\n      a = a.concat(i);\n      if (a !== \"0x\") {\n        let unicodeChar = String.fromCodePoint(a);\n        return unicodeChar;\n      }\n    });\n    const unicodeChar = unicodeCharArr.join(\"\");\n    resultString = resultString.replace(match[0], unicodeChar);\n    match = ifcUnicodeRegEx.exec(ifcString);\n  } \n  return resultString;\n}\n\n// Decode textos \nconst decodeText = (ifcString) => {\n  const ifcUnicodeRegEx = /\\\\X2\\\\(.*?)\\\\X0\\\\/uig;\n  let resultString = ifcString;\n  let match = ifcUnicodeRegEx.exec(ifcString);\n\n  while (match) {\n    const unicodeChar = String.fromCharCode(parseInt(match[1], 16));\n    resultString = resultString.replace(match[0], unicodeChar);\n    match = ifcUnicodeRegEx.exec(ifcString);\n  }\n  return resultString;\n}\n\n/// Filtro de propiedades\nconst filtroProps = (property) => {\n  const hideProps = ['GlobalId', 'OwnerHistory', 'expressID', 'Description', 'Name', 'type'];\n  const found = hideProps.find(i => i === property);\n  if (!found) {\n    return true;\n  }\n}\n\nconst details = typeProps[0]?.HasPropertySets?.map((pset) => {\n  const set = pset.Name?.value ? decodeText(decodeSymbols(pset.Name?.value)) : pset.constructor.name;\n  let props;\n  if (pset.HasProperties) {\n    props = pset.HasProperties?.map((prop) => {\n      const name = decodeText(decodeSymbols(prop.Name?.value));\n      const value = decodeText(decodeSymbols(prop.NominalValue?.value));\n      /* const label = decodeText(decodeSymbols(prop.NominalValue?.label)); */\n      return {\n        name,\n        value/* ,\n        label */\n      };\n    });\n    // para fabricante technal (excepcion)\n  } else if (pset.Name === null) {\n    props = Object.entries(pset).map(([key, val]) => {\n      const name = decodeText(decodeSymbols(key));\n      const value = val?.value ? decodeText(decodeSymbols(val?.value)) : val;\n      return {\n        name,\n        value\n      };\n\n    });\n\n  }\n  return {\n    set,\n    props\n  };\n\n});\n\n// console.log(details)\n\n\n  return (\n    <>\n      <div className=\" flex flex-col min-w-0 break-words w-full \">\n     \n\n          {/* Projects table */}\n          <table className=\" w-full bg-transparent border-collapse table-fixed\t\">\n           \n            <tbody>\n              {details ? \n              details.map((set,i) => {\n                if(set.props){\n                  let setProps = set.props; \n                  return (\n                      <>\n                      <tr > \n                      <th key={i} id={set.set}  colSpan={2}  className=\"bg-blueGray-50 border-t-0  border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left\">\n                        {set.set}\n                        {/* <div className='show-hide' ><i className='fas fa-minus'></i></div> */}\n                      </th>\n                       </tr>\n                     {  setProps.map((prop, i)=>{ \n                        if(filtroProps(prop.name) ) {\n                          let propName = prop.name;\n                          let propValue = prop.value === 'T' ? 'True' : \n                                          prop.value === 'F' ? 'False' :    \n                                          typeof prop.value === 'number' && prop.value % 1 != 0  ? prop.value.toFixed(2) :\n                                          typeof prop.value === 'number' && prop.value === 0  ? 0 :\n                                          prop.value === null || prop.value === \"\"  ? '-' :\n                                          prop.value;\n                          return (\n                            <tr>\n                            <th  className=\"border-t-0  align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left\">\n                              {propName}\n                                {/* <div className='show-hide' ><i className='fas fa-minus'></i></div>\n                              */}                           \n                               </th>\n                            <td  className=\"border-t-0  align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n                             {propValue}\n                            </td>\n                            </tr>\n\n                          ) \n\n                        }\n\n                        })\n                    } \n\n                    </>\n                    )\n                  }\n              })\n               : \n              ( \n                <tr>\n                <td className=\"p-4 text-sm\">Select an element that has properties</td>\n                </tr>\n              )\n               \n              }\n             \n            </tbody>\n          </table>\n       \n      </div>\n    </>\n  );\n}\n\n\nexport default ItemProperties;\n","import { useState } from 'react';\r\nimport Comments from './Comments'\r\nimport ItemProperties from './ItemProperties'\r\n\r\nconst RigthPanel = ({ nameSelected }) => {\r\n  \r\n  const [openTabR, setOpenTabR] = useState(1);   \r\n\r\n  return (\r\n    <>\r\n     <div className=\"relative bg-white  shadow-lg  overflow-y-auto\">\r\n            <div className=\" cursor-pointer sticky top-0 bg-white text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700\">\r\n              <ul className=\"flex flex-wrap -mb-px\">\r\n                <li className=\"mr-2\">\r\n                  <a\r\n                    onClick={() => setOpenTabR(1)}\r\n                    className={\"inline-block p-4 rounded-t-lg border-b-2 active \" + (openTabR === 1\r\n                      ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n                      : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \")\r\n                    }\r\n                    aria-current=\"page\">Properties </a>\r\n                </li>\r\n                <li className=\"mr-2\">\r\n                  <a onClick={() => setOpenTabR(2)}\r\n                    className={\"inline-block p-4 rounded-t-lg border-b-2 active \" + (openTabR === 2\r\n                      ? \"text-orange-500 hover:text-orange-600  border-orange-500\"\r\n                      : \"text-blueGray-700 hover:text-blueGray-500 hover:border-gray-300 \")\r\n                    }>Comments</a>\r\n                </li>\r\n\r\n\r\n              </ul>\r\n            </div>\r\n            {openTabR === 1 && (<ItemProperties />)}\r\n            {openTabR === 2 && (<Comments nameSelected={nameSelected}  />)}\r\n     </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RigthPanel\r\n","import ViewerContextProvider from \"context/ViewerContext\";\n\n// components\nimport Viewer from \"./workspace/Viewer/Viewer.js\";\nimport BottomPanel from \"./workspace/BottomPanel/BottomPanel\";\nimport LeftPanel from \"./workspace/LeftPanel/LeftPanel\";\nimport RightPanel from \"./workspace/RightPanel/RightPanel\";\n\nimport Split from 'react-split'\nimport 'assets/styles/split.css';\nimport { useParams } from \"react-router-dom\";\n\nexport default function Workspace() {\n  const {model} = useParams(); \n  return (\n    <>\n     <ViewerContextProvider>  \n        <Split direction='vertical'  sizes={[70,30]} style={{height: 'calc(100vh - 8rem)'}}  >\n      \n        <Split  sizes={[20, 60, 20]} minSize={[250, 250, 250]} className=\"flex\">           \n          <LeftPanel  />           \n          <Viewer  model={model} />  \n          <RightPanel  />       \n        </Split>\n    \n         <BottomPanel /> \n        </Split>\n     \n         \n       \n      </ViewerContextProvider>\n    </>\n  ); \n}\n","import React from \"react\";\n\nimport Navbar from \"components/common/Navbar.js\";\nimport Workspace from \"components/views/proyectpage/Workspace\";\n\n\nexport default function ProjectPage() {\n  return (\n    <>\n      <div className=\" md:flex  \">\n      <div className=\"relative w-full min-h-screen bg-slate-100\" >\n        <Navbar />        \n        <div className=\"px-4 md:px-10 mx-auto w-full mt-20\">\n          <Workspace />\n  \n        </div>\n      </div>\n      </div>\n    </>\n  );\n}\n","import {useCallback}  from \"react\";\nimport {useHistory} from 'react-router-dom';\nimport { NavLink } from \"react-router-dom/cjs/react-router-dom.min\";\n\n\nexport default function CardProjects({model, name, description}) {\n\n  const history = useHistory();\n  const handleOnClick = useCallback(() => history.push('/projectpage'), [history]); \n\n\n  return (\n    <>\n  \n      <div className=\"relative hover:scale-105 ease-in-out duration-300 overflow-hidden break-words bg-white w-full mb-6 shadow-xl rounded-lg \">\n    \n        <NavLink to={`/projectpage/${model}`}>\n        \n          <img\n            alt=\"...\"\n           src={model ? require(`assets/img/${model}.png`).default :  require(`assets/img/3d-default.png`).default} \n            className=\" h-48\t object-cover align-middle w-full border-none \"\n          />\n          \n          <div className=\"w-full px-4 my-3 \">      \n           <dd className=\"group-hover:text-white font-semibold text-slate-900 \">\n              {name}\n            </dd>    \n            <dd className =\"pb-2  mb-10\">{description}</dd>\n       \n            <div className=\"absolute bottom-0 mb-2\">         \n           \n          </div>\n           \n          </div>\n          </NavLink>\n         \n      </div>\n    </>\n  );\n}\n","\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function FormNewProject() {\r\n  const history = useHistory();\r\n  const [showForm, setShowForm] =useState(false); \r\n  const [formValues, setFormValues] =useState({\r\n    proyName: ''  \r\n  }); \r\n \r\n\r\n  const {proyName} = formValues\r\n  const baseUrl = process.env.REACT_APP_API_URL\r\n\r\n    //guarda datos del formulario \r\n    const handleInputChange = ({ target }) => {\r\n      setFormValues({\r\n        ...formValues,\r\n        [ target.name ]: target.value\r\n      });\r\n    } \r\n\r\n  const  handleSubmit =  async (e) => {\r\n    e.preventDefault()     \r\n    const response = await fetch(`${baseUrl}/crear_proyecto_node.php`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formValues)\r\n    })\r\n    const idProyCreado = await response.json() \r\n    if(idProyCreado) {\r\n      const {CptId} = idProyCreado      \r\n      history.push(`/projectpage/settings/${CptId}`)\r\n      \r\n    }else {\r\n      console.log('error creando proyecto')\r\n    } \r\n  } \r\n\r\n  return (\r\n    <>\r\n    { !showForm\r\n     ? \r\n      <div  \r\n      className=\"hover:border-orange-500 hover:border-solid hover:bg-white hover:text-orange-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium mb-6  py-32 cursor-pointer\"\r\n      onClick={() => setShowForm(true)}\r\n      >\r\n        <i className=\"fas fa-plus\"></i>\r\n        New project \r\n      </div>      \r\n      :\r\n      <> \r\n        <div className=\"relative hover:scale-105 ease-in-out duration-300 overflow-hidden break-words bg-white w-full mb-6 shadow-xl rounded-lg \">                   \r\n            <img\r\n              alt=\"...\"\r\n            src={ require(`assets/img/3d-default.png`).default} \r\n              className=\" h-48\t object-cover align-middle w-full border-none \"\r\n            />\r\n            \r\n            <div className=\"w-full px-4 my-3 \">\r\n             <div className=\" border-b border-gray-500 py-1 \">\r\n               <input className=\"text-blueGray-400 appearance-none focus:outline-none border-none w-full\"\r\n                name=\"proyName\"\r\n                placeholder=\"Proyect Name\"\r\n                value={proyName}                \r\n                onChange={ handleInputChange } />                \r\n              </div>\r\n\r\n              <div className=\"flex items-center text-xs mt-4\">          \r\n                <button\r\n                className=\"bg-orange-500 text-white active:bg-orange-600 font-bold uppercase  px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n                type=\"button\"\r\n                onClick={handleSubmit}\r\n                >\r\n                Save Changes\r\n                </button>\r\n                <button\r\n                className=\"text-red-500 background-transparent font-bold uppercase px-4 py-2  outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\r\n                type=\"button\"\r\n                onClick={()=>{  setShowForm(false)}}\r\n                >\r\n                Close\r\n                </button>\r\n              </div>          \r\n            </div>          \r\n        </div>\r\n      </>\r\n        \r\n       \r\n      }\r\n    </>\r\n  );\r\n}"," //obtengo url para peticion desde archivo .env\r\n const baseUrl = process.env.REACT_APP_API_URL\r\n\r\n export async function fetchObtenerProyectos() {\r\n\r\n  try {\r\n    const response = await fetch(`${baseUrl}/obtener_proyectos_node.php`)\r\n    const proyects = await response.json();\r\n    if (response.ok) {\r\n      return proyects          \r\n    } else {\r\n      console.log('Respuesta de red OK pero respuesta de HTTP no OK');\r\n    }         \r\n  } catch (error) {\r\n    console.log('Hubo un problema con la peticin Fetch:' + error.message);\r\n  }\r\n} \r\n\r\n\r\nexport const fetchObtenerProyecto = async (id) => { \r\n    try{\r\n      const response = await fetch(`${baseUrl}/obtener_proyecto_node.php?id=${id}` ) \r\n      const proyect = await response.json()             \r\n        if (response.ok) {\r\n            return proyect          \r\n        } else {\r\n          console.log('Respuesta de red OK pero respuesta de HTTP no OK');\r\n        } \r\n    } catch (error) {\r\n      console.log('Hubo un problema con la peticin Fetch:' + error.message);\r\n    }      \r\n   }","import { useEffect, useState } from \"react\";\n\n// components\nimport CardProjects from \"./projects/CardProjects\";\nimport FormNewProject from \"./projects/FormNewProject\";\n\n//utils\nimport { fetchObtenerProyectos } from \"utils/fetchs\";\n\n\nexport default function Projects() { \n\n    const [proyects, setProyects] = useState()\n  // useEffect( async () => {   \n  //   const proyectsFromFetch = await fetchObtenerProyectos()\n  //   setProyects(proyectsFromFetch)\n  // }, [])\n  \n\n  return (\n    <>            \n      <div className=\"flex flex-wrap\">\n        <div className=\"sm:w-full md:w-2/3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-5 px-4 mb-3\">\n   \n          <CardProjects model= \"2x3_Coordination-View-RAC_basic_sample_project\" name=\"HOUSE A\" description=\"Default Revit File\" />            \n          { proyects?.map( proyect => \n             <CardProjects model= \"Logotipo-Bimetica-flower\" name={proyect.CptNombre} description={proyect.CtpDescripcion} />            \n          )}\n          <FormNewProject/>\n          \n         </div> \n     \n          <div className=\"sm:w-full  md:w-1/3 \">\n         \n            <div className=\" grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1 gap-2 px-4 mb-3\">\n         \n             \n            </div>\n          </div>\n        </div>\n             \n    </>\n  );\n}\n","import { Switch } from \"react-router-dom\";\nimport { Route } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\n// components\nimport Navbar from \"components/common/Navbar.js\";\n\n//views\nimport Projects from \"components/views/homepage/Projects\";\n\n\nexport default function HomePage() {\n\n  \n  return (\n    <>\n      <div className=\" flex  \">\n        <div className=\"relative min-h-screen w-full bg-slate-100 \">\n          <Navbar />      \n          <div className=\"px-4 md:px-10 mx-auto w-full my-20\">\n            <Switch>\n                <Route path=\"/homepage\" exact component={Projects} />           \n                <Redirect from=\"/\" to=\"/homepage\" />\n            </Switch>         \n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport ProjectPage from \"components/layouts/ProjectPage\";\r\nimport Homepage from \"components/layouts/Homepage\";\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  \r\n    return (   \r\n  <HashRouter>\r\n   <Switch>\r\n      <Route exact path=\"/homepage\" component = {Homepage} />\r\n      <Route exact path=\"/projectpage/:model\"  component = {ProjectPage} />\r\n      <Redirect exact from=\"/\" to=\"/homepage\" />\r\n      \r\n    </Switch>\r\n  </HashRouter>\r\n \r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\"; \nimport \"assets/styles/tailwind.css\"; \nimport App from \"App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}